{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{uploadFile}from'./fileSlice';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUploadPage=()=>{const[file,setFile]=useState(null);const dispatch=useDispatch();const{status,error}=useSelector(state=>state.files);const handleUpload=e=>{e.preventDefault();if(file){const formData=new FormData();formData.append('file',file);dispatch(uploadFile(formData));}};useEffect(()=>{if(status==='succeeded'){alert('File uploaded successfully!');setFile(null);// Reset the file input after successful upload\n}else if(status==='failed'){alert(\"File upload failed: \".concat(error));}},[status,error]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,className:\"w-full max-w-md bg-white shadow-md rounded-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-700 mb-6 text-center\",children:\"Upload File\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"block text-gray-600 font-medium mb-2\",children:\"Choose a file:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",onChange:e=>setFile(e.target.files[0]),required:true,className:\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-300\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\",children:\"Upload\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/files\",className:\"text-blue-500 hover:text-blue-700\",children:\"Go to File List\"})})]})});};export default FileUploadPage;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","uploadFile","Link","jsx","_jsx","jsxs","_jsxs","FileUploadPage","file","setFile","dispatch","status","error","state","files","handleUpload","e","preventDefault","formData","FormData","append","alert","concat","className","children","onSubmit","htmlFor","id","type","onChange","target","required","to"],"sources":["/Users/prashant/Development/file-sharing/src/features/files/FileUploadPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadFile } from './fileSlice';\nimport { Link } from 'react-router-dom';\n\nconst FileUploadPage = () => {\n  const [file, setFile] = useState(null);\n  const dispatch = useDispatch();\n  const { status, error } = useSelector((state) => state.files);\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    if (file) {\n      const formData = new FormData();\n      formData.append('file', file);\n      dispatch(uploadFile(formData));\n    }\n  };\n\n  useEffect(() => {\n    if (status === 'succeeded') {\n      alert('File uploaded successfully!');\n      setFile(null); // Reset the file input after successful upload\n    } else if (status === 'failed') {\n      alert(`File upload failed: ${error}`);\n    }\n  }, [status, error]);\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <form\n        onSubmit={handleUpload}\n        className=\"w-full max-w-md bg-white shadow-md rounded-lg p-8\"\n      >\n        <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">\n          Upload File\n        </h2>\n        <div className=\"mb-4\">\n          <label\n            htmlFor=\"file-upload\"\n            className=\"block text-gray-600 font-medium mb-2\"\n          >\n            Choose a file:\n          </label>\n          <input\n            id=\"file-upload\"\n            type=\"file\"\n            onChange={(e) => setFile(e.target.files[0])}\n            required\n            className=\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-300\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\"\n        >\n          Upload\n        </button>\n        <div className=\"mt-4 text-center\">\n          <Link\n            to=\"/files\"\n            className=\"text-blue-500 hover:text-blue-700\"\n          >\n            Go to File List\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default FileUploadPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,KAAQ,aAAa,CACxC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEY,MAAM,CAAEC,KAAM,CAAC,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,KAAK,CAAC,CAE7D,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIT,IAAI,CAAE,CACR,KAAM,CAAAU,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEZ,IAAI,CAAC,CAC7BE,QAAQ,CAACT,UAAU,CAACiB,QAAQ,CAAC,CAAC,CAChC,CACF,CAAC,CAEDpB,SAAS,CAAC,IAAM,CACd,GAAIa,MAAM,GAAK,WAAW,CAAE,CAC1BU,KAAK,CAAC,6BAA6B,CAAC,CACpCZ,OAAO,CAAC,IAAI,CAAC,CAAE;AACjB,CAAC,IAAM,IAAIE,MAAM,GAAK,QAAQ,CAAE,CAC9BU,KAAK,wBAAAC,MAAA,CAAwBV,KAAK,CAAE,CAAC,CACvC,CACF,CAAC,CAAE,CAACD,MAAM,CAAEC,KAAK,CAAC,CAAC,CAEnB,mBACER,IAAA,QAAKmB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxElB,KAAA,SACEmB,QAAQ,CAAEV,YAAa,CACvBQ,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAE7DpB,IAAA,OAAImB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,aAElE,CAAI,CAAC,cACLlB,KAAA,QAAKiB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBpB,IAAA,UACEsB,OAAO,CAAC,aAAa,CACrBH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CACjD,gBAED,CAAO,CAAC,cACRpB,IAAA,UACEuB,EAAE,CAAC,aAAa,CAChBC,IAAI,CAAC,MAAM,CACXC,QAAQ,CAAGb,CAAC,EAAKP,OAAO,CAACO,CAAC,CAACc,MAAM,CAAChB,KAAK,CAAC,CAAC,CAAC,CAAE,CAC5CiB,QAAQ,MACRR,SAAS,CAAC,gGAAgG,CAC3G,CAAC,EACC,CAAC,cACNnB,IAAA,WACEwB,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,0HAA0H,CAAAC,QAAA,CACrI,QAED,CAAQ,CAAC,cACTpB,IAAA,QAAKmB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BpB,IAAA,CAACF,IAAI,EACH8B,EAAE,CAAC,QAAQ,CACXT,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9C,iBAED,CAAM,CAAC,CACJ,CAAC,EACF,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}