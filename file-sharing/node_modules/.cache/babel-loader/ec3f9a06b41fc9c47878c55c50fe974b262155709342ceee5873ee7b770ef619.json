{"ast":null,"code":"import React,{useState}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{verifyOTP}from\"./authSlice\";// Assuming you will create this action\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OTPPage=()=>{const location=useLocation();const{email}=location.state||\"\";// Email passed from login page\nconst[otp,setOtp]=useState(\"\");const[error,setError]=useState(\"\");const dispatch=useDispatch();const navigate=useNavigate();const handleOtpSubmit=async e=>{e.preventDefault();const resultAction=await dispatch(verifyOTP({email,otp}));if(verifyOTP.fulfilled.match(resultAction)){navigate(\"/upload\");// Redirect to upload page upon success\n}else{setError(\"Invalid OTP. Please try again.\");console.error(\"OTP verification failed:\",resultAction.error.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleOtpSubmit,className:\"w-full max-w-md bg-white shadow-md rounded-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-700 mb-6 text-center\",children:\"Enter OTP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"otp\",className:\"block text-gray-600 font-medium mb-2\",children:\"OTP:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"otp\",type:\"text\",value:otp,onChange:e=>setOtp(e.target.value),required:true,className:\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-300\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\",children:\"Verify OTP\"})]})});};export default OTPPage;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","useDispatch","verifyOTP","jsx","_jsx","jsxs","_jsxs","OTPPage","location","email","state","otp","setOtp","error","setError","dispatch","navigate","handleOtpSubmit","e","preventDefault","resultAction","fulfilled","match","console","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","required"],"sources":["/Users/prashant/Development/file-sharing/src/features/auth/OTPPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { verifyOTP } from \"./authSlice\"; // Assuming you will create this action\n\nconst OTPPage = () => {\n  const location = useLocation();\n  const { email } = location.state || \"\"; // Email passed from login page\n  const [otp, setOtp] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleOtpSubmit = async (e) => {\n    e.preventDefault();\n\n    const resultAction = await dispatch(verifyOTP({ email, otp }));\n\n    if (verifyOTP.fulfilled.match(resultAction)) {\n      navigate(\"/upload\"); // Redirect to upload page upon success\n    } else {\n      setError(\"Invalid OTP. Please try again.\");\n      console.error(\"OTP verification failed:\", resultAction.error.message);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <form\n        onSubmit={handleOtpSubmit}\n        className=\"w-full max-w-md bg-white shadow-md rounded-lg p-8\"\n      >\n        <h2 className=\"text-2xl font-bold text-gray-700 mb-6 text-center\">\n          Enter OTP\n        </h2>\n        <div className=\"mb-4\">\n          <label htmlFor=\"otp\" className=\"block text-gray-600 font-medium mb-2\">\n            OTP:\n          </label>\n          <input\n            id=\"otp\"\n            type=\"text\"\n            value={otp}\n            onChange={(e) => setOtp(e.target.value)}\n            required\n            className=\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-300\"\n          />\n        </div>\n        {error && <div className=\"text-red-500 text-sm mb-4\">{error}</div>}\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\"\n        >\n          Verify OTP\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default OTPPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,aAAa,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEU,KAAM,CAAC,CAAGD,QAAQ,CAACE,KAAK,EAAI,EAAE,CAAE;AACxC,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAiB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,eAAe,CAAG,KAAO,CAAAC,CAAC,EAAK,CACnCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAL,QAAQ,CAACb,SAAS,CAAC,CAAEO,KAAK,CAAEE,GAAI,CAAC,CAAC,CAAC,CAE9D,GAAIT,SAAS,CAACmB,SAAS,CAACC,KAAK,CAACF,YAAY,CAAC,CAAE,CAC3CJ,QAAQ,CAAC,SAAS,CAAC,CAAE;AACvB,CAAC,IAAM,CACLF,QAAQ,CAAC,gCAAgC,CAAC,CAC1CS,OAAO,CAACV,KAAK,CAAC,0BAA0B,CAAEO,YAAY,CAACP,KAAK,CAACW,OAAO,CAAC,CACvE,CACF,CAAC,CAED,mBACEpB,IAAA,QAAKqB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxEpB,KAAA,SACEqB,QAAQ,CAAEV,eAAgB,CAC1BQ,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAE7DtB,IAAA,OAAIqB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,WAElE,CAAI,CAAC,cACLpB,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtB,IAAA,UAAOwB,OAAO,CAAC,KAAK,CAACH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,MAEtE,CAAO,CAAC,cACRtB,IAAA,UACEyB,EAAE,CAAC,KAAK,CACRC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEpB,GAAI,CACXqB,QAAQ,CAAGd,CAAC,EAAKN,MAAM,CAACM,CAAC,CAACe,MAAM,CAACF,KAAK,CAAE,CACxCG,QAAQ,MACRT,SAAS,CAAC,gGAAgG,CAC3G,CAAC,EACC,CAAC,CACLZ,KAAK,eAAIT,IAAA,QAAKqB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEb,KAAK,CAAM,CAAC,cAClET,IAAA,WACE0B,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,0HAA0H,CAAAC,QAAA,CACrI,YAED,CAAQ,CAAC,EACL,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}